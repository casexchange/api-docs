---
title: "Revoke Token"
description: "Invalidate access or refresh tokens"
---

<Endpoint method="POST" path="/api/v1/oauth/revoke" />

Revoke an access token or refresh token to immediately invalidate it. Use this endpoint when tokens are compromised, when users log out, or when implementing token rotation policies.

## Authentication

<ParamField header="Authorization" type="string" required>
Basic authentication with client credentials, or include `client_id` and `client_secret` in the request body.
</ParamField>

## Request Body

<ParamField body="token" type="string" required>
The access token or refresh token to revoke.
</ParamField>

<ParamField body="token_type_hint" type="string">
Hint about the token type. Values: `access_token` or `refresh_token`. Helps optimize revocation lookup.
</ParamField>

<ParamField body="client_id" type="string">
OAuth client identifier. Required if not using Basic authentication.
</ParamField>

<ParamField body="client_secret" type="string">
OAuth client secret. Required if not using Basic authentication.
</ParamField>

<RequestExample>
```bash cURL
curl -X POST 'https://api.casexchange.com/api/v1/oauth/revoke' \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -d 'token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...' \
  -d 'token_type_hint=access_token' \
  -d 'client_id=client_1234567890abcdef' \
  -d 'client_secret=secret_abcdef1234567890'
```
</RequestExample>

<RequestExample>
```javascript Node.js
async function revokeToken(token, tokenTypeHint, clientId, clientSecret) {
  const params = new URLSearchParams({
    token: token,
    token_type_hint: tokenTypeHint || 'access_token',
    client_id: clientId,
    client_secret: clientSecret
  });

  const response = await fetch('https://api.casexchange.com/api/v1/oauth/revoke', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/x-www-form-urlencoded'
    },
    body: params
  });

  if (!response.ok) {
    const error = await response.json();
    throw new Error(error.error_description || 'Token revocation failed');
  }

  return response.ok;
}

await revokeToken(
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...',
  'access_token',
  'client_1234567890abcdef',
  'secret_abcdef1234567890'
);

console.log('Token revoked successfully');
```
</RequestExample>

## Response

Success returns HTTP 200 with no response body. Errors follow the standard OAuth error format.

<ResponseExample>
```json Success (200 OK)
(No response body)
```
</ResponseExample>

<ResponseExample>
```json Error - Invalid Token (400 Bad Request)
{
  "error": "invalid_request",
  "error_description": "Invalid token"
}
```
</ResponseExample>

<ResponseExample>
```json Error - Invalid Client (401 Unauthorized)
{
  "error": "invalid_client",
  "error_description": "Client authentication failed"
}
```
</ResponseExample>

## Example: Revoke Token on Logout

```javascript Node.js
class TokenManager {
  constructor(clientId, clientSecret) {
    this.clientId = clientId;
    this.clientSecret = clientSecret;
    this.accessToken = null;
    this.refreshToken = null;
  }

  async revokeAccessToken() {
    if (!this.accessToken) return;

    try {
      await revokeToken(
        this.accessToken,
        'access_token',
        this.clientId,
        this.clientSecret
      );
      this.accessToken = null;
    } catch (error) {
      console.error('Failed to revoke access token:', error.message);
    }
  }

  async revokeRefreshToken() {
    if (!this.refreshToken) return;

    try {
      await revokeToken(
        this.refreshToken,
        'refresh_token',
        this.clientId,
        this.clientSecret
      );
      this.refreshToken = null;
    } catch (error) {
      console.error('Failed to revoke refresh token:', error.message);
    }
  }

  async logout() {
    await this.revokeAccessToken();
    await this.revokeRefreshToken();
    console.log('All tokens revoked');
  }
}

const tokenManager = new TokenManager('client_1234567890abcdef', 'secret_abcdef1234567890');
await tokenManager.logout();
```

<Warning>
Call this endpoint immediately if you suspect token leakage or compromise. Revoked tokens cannot be used for authentication, even if they haven't expired yet.
</Warning>

<Note>
Revocation requires valid client credentials. Pair revocation with audit logs to trace suspicious sessions and token usage patterns.
</Note>

