---
title: "User Info"
description: "Retrieve identity claims for an OAuth access token"
---

<Endpoint method="GET" path="/api/v1/oauth/userinfo" />

Retrieve user identity claims for an OAuth access token. Returns user profile information based on the scopes granted during authorization. Use this endpoint to hydrate user profiles in your application after completing the authorization code flow.

## Authentication

<ParamField header="Authorization" type="string" required>
Bearer token obtained from OAuth token endpoint. Format: `Bearer <access_token>`
</ParamField>

<RequestExample>
```bash cURL
curl -X GET 'https://api.casexchange.com/api/v1/oauth/userinfo' \
  -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'
```
</RequestExample>

<RequestExample>
```javascript Node.js
const response = await fetch('https://api.casexchange.com/api/v1/oauth/userinfo', {
  headers: {
    'Authorization': `Bearer ${accessToken}`
  }
});

const userInfo = await response.json();
console.log('User:', userInfo.given_name, userInfo.family_name);
console.log('Firm:', userInfo.firmName);
```
</RequestExample>

## Response

<ResponseField name="sub" type="string" required>
Subject identifier. Unique identifier for the user (UUID).
</ResponseField>

<ResponseField name="email" type="string">
User's email address. Included if `email` scope was granted.
</ResponseField>

<ResponseField name="email_verified" type="boolean">
Whether the email address has been verified. Included if `email` scope was granted.
</ResponseField>

<ResponseField name="given_name" type="string">
User's first name. Included if `profile` scope was granted.
</ResponseField>

<ResponseField name="family_name" type="string">
User's last name. Included if `profile` scope was granted.
</ResponseField>

<ResponseField name="firmId" type="string">
UUID of the firm the user belongs to. Included if `profile` scope was granted.
</ResponseField>

<ResponseField name="firmName" type="string">
Name of the firm the user belongs to. Included if `profile` scope was granted.
</ResponseField>

<ResponseField name="scope" type="string">
Space-separated list of scopes granted to the access token.
</ResponseField>

<ResponseExample>
```json Success (200 OK)
{
  "sub": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
  "email": "sarah.chen@smithlaw.com",
  "email_verified": true,
  "given_name": "Sarah",
  "family_name": "Chen",
  "firmId": "f1a2b3c4-d5e6-7890-abcd-ef1234567890",
  "firmName": "Smith & Associates Law Firm",
  "scope": "openid email profile cases:read cases:write"
}
```
</ResponseExample>

<ResponseExample>
```json Error - Invalid Token (401 Unauthorized)
{
  "error": "invalid_token",
  "error_description": "The access token is invalid or expired"
}
```
</ResponseExample>

<ResponseExample>
```json Error - Insufficient Scope (403 Forbidden)
{
  "error": "insufficient_scope",
  "error_description": "The access token does not have the required scope"
}
```
</ResponseExample>

## Example: Get User Profile After OAuth

```javascript Node.js
async function getUserInfo(accessToken) {
  const response = await fetch('https://api.casexchange.com/api/v1/oauth/userinfo', {
    headers: {
      'Authorization': `Bearer ${accessToken}`
    }
  });

  if (!response.ok) {
    const error = await response.json();
    
    if (response.status === 401) {
      throw new Error('Access token invalid or expired');
    } else if (response.status === 403) {
      throw new Error('Insufficient scope. Request profile scope during authorization.');
    } else {
      throw new Error(error.error_description || 'Failed to retrieve user info');
    }
  }

  return await response.json();
}

const userInfo = await getUserInfo(accessToken);

console.log(`Authenticated as ${userInfo.given_name} ${userInfo.family_name}`);
console.log(`Email: ${userInfo.email} (verified: ${userInfo.email_verified})`);
console.log(`Firm: ${userInfo.firmName} (${userInfo.firmId})`);
console.log(`Scopes: ${userInfo.scope}`);
```

<Tip>
Use this endpoint to hydrate user profiles in your application after completing the authorization code flow. The fields returned depend on the scopes granted during authorization. Request `openid`, `email`, and `profile` scopes to get full user information.
</Tip>

